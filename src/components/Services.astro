---
import Button from './Button.astro';

interface Props {
  showAll?: boolean;
  buttonText?: string;
  buttonHref?: string;
  isMainPage?: boolean;
}

const { showAll = false, buttonText = 'Alle diensten', buttonHref = '/diensten', isMainPage = false } = Astro.props;

const allServices = [
  {
    icon: '/icons/Kozijn svg.svg',
    title: 'Kozijnen',
    description: 'Houten kozijnen op maat. Duurzaam, goed geïsoleerd en veilig, gemaakt en gemonteerd met aandacht voor detail.'
  },
  {
    icon: '/icons/Raam svg.svg',
    title: 'Ramen',
    description: 'Houten ramen met uitstekende isolatie en veel licht. Vakkundig gemonteerd met materiaal dat generaties meegaat.'
  },
  {
    icon: '/icons/Schuifpui svg.svg',
    title: 'Schuifpuien',
    description: 'Moderne houten schuifpuien die uw ruimte openen. Energiezuinig, fijn in gebruik en perfect geïntegreerd.'
  },
  {
    icon: '/icons/Beglazing svg.svg',
    title: 'Beglazing',
    description: 'Professionele beglazing met isolatieglas. Duurzaam, veilig en energiebesparend voor beter wooncomfort.'
  },
  {
    icon: '/icons/Deur svg.svg',
    title: 'Deuren',
    description: 'Deuren die passen bij uw huis. Vakkundig afgewerkt en perfect gemonteerd door ons team.'
  },
  {
    icon: '/icons/Montage svg.svg',
    title: 'Montage',
    description: 'Complete montage van A tot Z. Nauwkeurig opmeten, professioneel installeren en perfect afwerken.'
  }
];

const services = showAll ? allServices : allServices.slice(0, 3);
---

<section class="services">
  <div class="container">
    <div class="services__header">
      <div class="services__intro">
        <p class="services__label">
          <img src="/icons/line.svg" alt="" aria-hidden="true" />
          Onze diensten
        </p>
        {isMainPage ? (
          <h1>Mooi houtwerk,<br /><span>precies zoals u het wilt.</span></h1>
        ) : (
          <h3>Mooi houtwerk,<br /><span>precies zoals u het wilt.</span></h3>
        )}
        <p class="services__text">
          Bij Timmerfabriek Sint Nyk in Sint Nicolaasga maken en monteren we houten ramen, deuren, kozijnen, schuifpuien en beglazing. 
          Of uw voorkeur klassiek of modern is, we zorgen voor perfecte pasvorm, vakkundig afgestemd op uw woning en bouwstijl.
        </p>
      </div>
      <div class="services__cta">
        <Button href={buttonHref} variant="dark-blue">{buttonText}</Button>
      </div>
    </div>

    <div class="services__grid">
      {services.map((service) => (
        <div class="services__card">
          <img src={service.icon} alt="" class="services__icon" aria-hidden="true" />
          {isMainPage ? <h2>{service.title}</h2> : <h4>{service.title}</h4>}
          <p>{service.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .services__header {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-32);
    margin-bottom: var(--spacing-48);
  }

  .services__label {
    display: flex;
    align-items: center;
    gap: var(--spacing-12);
    font-weight: var(--font-semibold);
    margin-bottom: var(--spacing-16);
  }

  .services__label img {
    width: 24px;
  }

  .services__intro h1,
  .services__intro h3 {
    font-size: 1.875rem;
    line-height: 2.375rem;
    margin-bottom: var(--spacing-24);
  }

  .services__intro h1 span,
  .services__intro h3 span {
    font-weight: var(--font-regular);
  }

  .services__text {
    max-width: 768px;
  }

  .services__cta {
    display: flex;
  }

  .services__cta :global(.button) {
    width: 100%;
    justify-content: center;
  }

  .services__grid {
    display: grid;
    gap: var(--spacing-32);
  }

  .services__card {
    border: 1px solid var(--gray-300);
    padding: var(--spacing-24);
    transition: box-shadow 0.2s ease;
  }

  .services__card:hover {
    box-shadow: var(--shadow-md);
  }

  .services__icon {
    width: 80px;
    height: 80px;
    margin-bottom: var(--spacing-48);
  }

  .services__card h2,
  .services__card h4 {
    font-size: 1.25rem;
    line-height: 1.75rem;
    margin-bottom: var(--spacing-12);
  }

  /* Desktop */
  @media (min-width: 1024px) {
    .services__intro h1,
    .services__intro h3 {
      font-size: 2.25rem;
      line-height: 2.75rem;
    }

    .services__card h2,
    .services__card h4 {
      font-size: 1.5rem;
      line-height: 2rem;
    }

    .services__header {
      flex-direction: row;
      justify-content: space-between;
      align-items: flex-end;
      margin-bottom: var(--spacing-64);
    }

    .services__cta :global(.button) {
      width: auto;
    }

    .services__grid {
      grid-template-columns: repeat(3, 1fr);
      gap: var(--spacing-48);
    }
  }
</style>
